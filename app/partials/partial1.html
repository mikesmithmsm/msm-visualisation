<div ng-show="myData.currentDeployment.deployment == null">

  <tabset class="nav-pills">
      <tab ng-repeat="environment in myData.environments" heading="{{environment}}" class="env-heading">
        <div class="tab-pane">
          <table class="table table-striped table-bordered">
            <tbody>
              <tr ng-repeat="deployment in myData.deploymentList | filter:environment">
                <td class="text-left span5"><a ng-click="setCurrentDeployment(deployment.name)">{{deployment.name}}</a></td>
              </tr>
            </tbody>
          </table>
        </div>
      </tab>
  </tabset>

</div>


<div ng-show="myData.currentDeployment.deployment != null">


  <div class="info-panel">


    <span class="deployment-heading">{{myData.currentDeployment.deployment.name}}</span>

    <button class="btn btn-primary" type="button">
      Instances <span class="badge">{{myData.currentDeployment.instances.length}}</span>
    </button>
    <button class="btn" type="button" ng-click="showAll()">
      back
    </button>
  </div>
  <tabset>

    <tab heading="Servers" ng-if="myData.currentDeployment.servers.length > 0">
      <div id="servers tab-pane">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th class="span1">Name</th>
              <th class="span1">State</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="server in myData.currentDeployment.servers">
              <td class="text-left">{{server.name}}</td>
              <td class="text-left"><span status-class="server.state">{{server.state}}</span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </tab>

    <tab heading="Server Arrays" ng-if="myData.currentDeployment.server_arrays.length > 0">
      <div id="arrays">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th class="span1">Name</th>
              <th class="span1">State</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="server in myData.currentDeployment.server_arrays">
              <td class="text-left">{{server.name}}</td>
              <td class="text-left"><span status-class="server.state">{{server.state}}</span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </tab>

    <tab heading="Instances" ng-if="myData.currentDeployment.instances.length > 0">
      <div id="instances">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th class="span1">Name</th>
              <th class="span1">Server Array</th>
              <th class="span1">Private IP</th>
              <th class="span1">State</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="instance in myData.currentDeployment.instances">
              <td class="text-left">{{instance.name}}</td>
              <td class="text-left">{{instance.server_array}}</td>
              <td class="text-left">{{instance.private_ip}}</td>
              <td class="text-left"><span status-class="instance.state">{{instance.state}}</span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </tab>

  </tabset>

</div>
